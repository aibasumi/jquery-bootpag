!function(a,t){a.fn.bootpag=function(t){function s(t,s,l){s=parseInt(s,10);var n,o=0==r.maxVisible?1:r.maxVisible,p=1==r.maxVisible?0:1,d=Math.floor((s-1)/o)*o,f=t.find("li");r.page=s=s<0?0:s>r.total?r.total:s,r.currentPerPageNumbers=l,f.removeClass(r.activeClass),n=s-1<1?1:r.leaps&&s-1>=r.maxVisible?Math.floor((s-1)/o)*o:s-1,r.firstLastUse&&f.first().toggleClass(r.disabledClass,1===s);var c=f.first();r.firstLastUse&&(c=c.next()),c.toggleClass(r.disabledClass,1===s).attr("data-lp",n).find("a").attr("href",e(n));p=1==r.maxVisible?0:1;n=s+1>r.total?r.total:r.leaps&&s+1<r.total-r.maxVisible?d+r.maxVisible+p:s+1;var u=f.last();r.firstLastUse&&(u=u.prev()),u.toggleClass(r.disabledClass,s===r.total).attr("data-lp",n).find("a").attr("href",e(n)),f.last().toggleClass(r.disabledClass,s===r.total);var b=f.filter("[data-lp="+s+"]"),g="."+[r.nextClass,r.prevClass,r.firstClass,r.lastClass].join(",.");if(!b.not(g).length){var h=s<=d?-r.maxVisible:0;f.not(g).each(function(t){n=t+1+d+h,a(this).attr("data-lp",n).toggle(n<=r.total).find("a").html(n).attr("href",e(n))}),b=f.filter("[data-lp="+s+"]")}b.not(g).addClass(r.activeClass),i.find("select.bootpage_per_numbers").find('option[value="'+l+'"]').prop("selected",!0),i.data("settings",r)}function e(a){return r.href.replace(r.hrefVariable,a)}function l(){for(var a=r.perPageNumbers.length,t='<div class="col-md-1">'+r.perPageText+'<select class="bootpage_per_numbers form-control" style="margin: 22px 10px; display: unset; width: auto;">',s="",e=0;e<a;e++){var l=r.perPageNumbers[e];s+='<option value="'+l+'">'+l+"</option>"}return t+s+"</select></div>"}var i=this,r=a.extend({total:0,page:1,maxVisible:null,perPageNumbers:[10,20,50,100,500],currentPerPageNumbers:null,perPageText:"每頁",leaps:!0,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;",firstLastUse:!1,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"},i.data("settings")||{},t||{});return r.total<=0?this:(a.isNumeric(r.maxVisible)||r.maxVisible||(r.maxVisible=parseInt(r.total,10)),i.data("settings",r),this.each(function(){var t,n,o=a(this),p=['<ul class="',r.wrapClass,' bootpag">'];r.firstLastUse&&(p=p.concat(['<li data-lp="1" class="',r.firstClass,'"><a href="',e(1),'">',r.first,"</a></li>"])),r.prev&&(p=p.concat(['<li data-lp="1" class="',r.prevClass,'"><a href="',e(1),'">',r.prev,"</a></li>"]));for(var d=1;d<=Math.min(r.total,r.maxVisible);d++)p=p.concat(['<li data-lp="',d,'"><a href="',e(d),'">',d,"</a></li>"]);r.next&&(n=r.leaps&&r.total>r.maxVisible?Math.min(r.maxVisible+1,r.total):2,p=p.concat(['<li data-lp="',n,'" class="',r.nextClass,'"><a href="',e(n),'">',r.next,"</a></li>"])),r.firstLastUse&&(p=p.concat(['<li data-lp="',r.total,'" class="last"><a href="',e(r.total),'">',r.last,"</a></li>"])),p.push("</ul>"),o.find("ul.bootpag").remove(),o.append(p.join("")),o.append(l()),t=o.find("ul.bootpag"),o.find("li").click(function(){var t=a(this);if(!t.hasClass(r.disabledClass)&&!t.hasClass(r.activeClass)){var e=parseInt(t.attr("data-lp"),10),l=parseInt(i.find("select.bootpage_per_numbers").find("option:selected").val(),10);i.find("ul.bootpag").each(function(){s(a(this),e,l)}),i.trigger("page",[e,l])}}),i.find("select.bootpage_per_numbers").change(function(){var e=parseInt(o.find("li.active").attr("data-lp"),10),l=parseInt(a(this).find("option:selected").val(),10);s(t,e,l),i.trigger("page",[e,l])}),s(t,r.page,r.currentPerPageNumbers)}))}}(jQuery,window);
