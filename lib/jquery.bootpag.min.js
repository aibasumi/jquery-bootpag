!function(a,e){a.fn.bootpag=function(e){var s=this,i=a.extend({total:0,page:1,maxVisible:5,perPageNumbers:[10,20,50,100],currentPerPageNumbers:null,perPageText:"每頁",href:"javascript:void(0);",hrefVariable:"{{number}}",firstLastUse:!0,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",lastClass:"last",firstClass:"first"},s.data("settings")||{},e||{});if(i.total<=0)return this;function t(a,e,t){e=parseInt(e,10),i.page=e,i.currentPerPageNumbers=t;var r=a.find("li");r.removeClass(i.activeClass),r.filter("[data-lp="+e+"]").not(".first, .last").addClass(i.activeClass),s.find("select.bootpage_per_numbers").find('option[value="'+t+'"]').prop("selected",!0),s.data("settings",i)}function r(a){return i.href.replace(i.hrefVariable,a)}function l(a,e){for(var s=[],i=a;i<=e;i++)s=s.concat(['<li data-lp="',i,'"><a href="',r(i),'">',i,"</a></li>"]);return s}return a.isNumeric(i.maxVisible)||i.maxVisible||(i.maxVisible=parseInt(i.total,10)),s.data("settings",i),this.each(function(){var e,n=a(this),o=['<ul class="',i.wrapClass,' bootpag">'],p=n.data("pageindex"),c=n.data("pagecount");if(i.maxVisible=5,i.firstLastUse&&(o=o.concat(['<li data-lp="1" class="',i.firstClass,'"><a href="',r(1),'">',i.first,"</a></li>"])),i.maxVisible>c&&(o=o.concat(l(1,c))),i.maxVisible%2==1&&i.maxVisible<c){var f=c-(u=Math.floor(i.maxVisible/2));if(p<=(g=i.maxVisible-u)){var d=1,b=i.maxVisible;o=o.concat(l(d,b))}else if(p>g&&p<=f){b=(d=p-u)+(i.maxVisible-1);o=o.concat(l(d,b))}else{d=c-(i.maxVisible-1),b=c;o=o.concat(l(d,b))}}if(i.maxVisible%2==0&&i.maxVisible<c){var u,g;f=c-(u=i.maxVisible/2);if(p<=(g=i.maxVisible-u)){d=1,b=i.maxVisible;o=o.concat(l(d,b))}else if(p>g&&p<=f){d=p-(u-1),b=p+u;o=o.concat(l(d,b))}else{d=c-(i.maxVisible-1),b=c;o=o.concat(l(d,b))}}i.firstLastUse&&(o=o.concat(['<li data-lp="',c,'" class="last"><a href="',r(c),'">',i.last,"</a></li>"])),o.push("</ul>"),n.find("nav.nav-bootpag").remove(),n.append(o.join("")),n.find("div.bootpag_drop").remove(),n.append(function(){for(var a=i.perPageNumbers.length,e='<div class="bootpag_drop col-md-1">'+i.perPageText+'<select class="bootpage_per_numbers form-control" style="margin: 22px 10px; display: unset; width: auto;">',s="",t=0;t<a;t++){var r=i.perPageNumbers[t];s+='<option value="'+r+'">'+r+"</option>"}return e+s+"</select></div>"}()),e=n.find("ul.bootpag"),n.find("li").click(function(){var e=a(this);if(!e.hasClass(i.disabledClass)&&!e.hasClass(i.activeClass)){var r=parseInt(e.attr("data-lp"),10),l=parseInt(s.find("select.bootpage_per_numbers").find("option:selected").val(),10);s.find("ul.bootpag").each(function(){t(a(this),r,l)}),s.trigger("page",[r,l])}}),n.find("select.bootpage_per_numbers").change(function(){var i=parseInt(a(this).find("option:selected").val(),10);t(e,1,i),s.trigger("page",[1,i])}),t(e,i.page,i.currentPerPageNumbers)})}}(jQuery,window);
