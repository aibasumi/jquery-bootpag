!function(e,a){e.fn.bootpag=function(a){var t=this,s=e.extend({total:0,page:1,maxVisible:5,dataCount:0,perPageNumbers:[10,20,50,100],currentPerPageNumbers:null,leftPageText:"",rightPageText:"項紀錄",href:"javascript:void(0);",hrefVariable:"{{number}}",firstLastUse:!0,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",lastClass:"last",firstClass:"first",leftPageText1:"顯示第",leftPageText2:"到第",leftPageText3:"項紀錄，總共",leftPageText4:"項紀錄;每頁顯示",goToPage1:"前往",goToPage2:"頁"},t.data("settings")||{},a||{});if(s.total<=0)return this;var i=(s.page-1)*s.currentPerPageNumbers+1,r=s.page*s.currentPerPageNumbers;function l(e,a,i){a=parseInt(a,10),s.page=a,s.currentPerPageNumbers=i;var r=e.find("li");r.removeClass(s.activeClass),r.filter("[data-lp="+a+"]").not(".first, .last").addClass(s.activeClass),t.find("select.bootpage_per_numbers").find('option[value="'+i+'"]').prop("selected",!0),t.data("settings",s)}function n(e){return s.href.replace(s.hrefVariable,e)}function o(e,a){for(var t=[],s=e;s<=a;s++)t=t.concat(['<li data-lp="',s,'"><a href="',n(s),'">',s,"</a></li>"]);return t}return s.leftPageText=s.leftPageText1+" "+i+" "+s.leftPageText2+" "+r+" "+s.leftPageText3+" "+s.dataCount+" "+s.leftPageText4,e.isNumeric(s.maxVisible)||s.maxVisible||(s.maxVisible=parseInt(s.total,10)),t.data("settings",s),this.each(function(){var a,i=e(this),r=['<div><ul class="',s.wrapClass,' bootpag nav-bootpag">'],p=parseInt(s.page,10),g=parseInt(s.total,10);if(p=0===p?1:p,s.firstLastUse&&(r=r.concat(['<li data-lp="1" class="',s.firstClass,'"><a href="',n(1),'">',s.first,"</a></li>"])),s.maxVisible>=g&&(r=r.concat(o(1,g))),s.maxVisible%2==1&&s.maxVisible<g){var c=g-(u=Math.floor(s.maxVisible/2));if(p<=(b=s.maxVisible-u)){var f=1,d=s.maxVisible;r=r.concat(o(f,d))}else if(p>b&&p<=c){d=(f=p-u)+(s.maxVisible-1);r=r.concat(o(f,d))}else{f=g-(s.maxVisible-1),d=g;r=r.concat(o(f,d))}}if(s.maxVisible%2==0&&s.maxVisible<g){var u,b;c=g-(u=s.maxVisible/2);if(p<=(b=s.maxVisible-u)){f=1,d=s.maxVisible;r=r.concat(o(f,d))}else if(p>b&&p<=c){f=p-(u-1),d=p+u;r=r.concat(o(f,d))}else{f=g-(s.maxVisible-1),d=g;r=r.concat(o(f,d))}}s.firstLastUse&&(r=r.concat(['<li data-lp="',g,'" class="last"><a href="',n(g),'">',s.last,"</a></li>"])),r.push("</ul></div>"),i.css("display","flex"),i.empty(),i.append(function(){for(var e=s.perPageNumbers.length,a='<div style="margin: 6px 0;">'+s.leftPageText+'</div><div class="bootpag_drop"><select class="bootpage_per_numbers form-control">',t="",i=0;i<e;i++){var r=s.perPageNumbers[i];t+='<option value="'+r+'">'+r+"</option>"}return'<div style="display: flex; margin: 22px 22px 0 0;">'+a+t+'</select></div><div style="margin: 6px 0;">'+s.rightPageText+"</div></div>"}()),i.append(r.join("")),i.append(function(e,a){console.log(a);for(var t='<select class="form-control bootpage_go_to_page">',i=1;i<=a;i++)t+='<option value="'+i+'" '+(i===e?"selected":"")+">"+i+"</option>";return t+="</select>",'<div style="display: flex; margin: 22px 22px 0 22px;"><div style="margin: 6px 0;">'+s.goToPage1+"</div><div>"+t+'</div><div style="margin: 6px 0;">'+s.goToPage2+"</div>"}(parseInt(s.page,10),parseInt(i.data("pagecount"),10))),a=i.find("ul.bootpag"),i.find("li").click(function(){var a=e(this);if(!a.hasClass(s.disabledClass)&&!a.hasClass(s.activeClass)){var i=parseInt(a.attr("data-lp"),10),r=parseInt(t.find("select.bootpage_per_numbers").find("option:selected").val(),10);t.find("ul.bootpag").each(function(){l(e(this),i,r)}),t.trigger("page",[i,r])}}),i.find("select.bootpage_per_numbers").change(function(){var s=parseInt(e(this).find("option:selected").val(),10);l(a,1,s),t.trigger("page",[1,s])}),i.find("select.bootpage_go_to_page").change(function(){var s=parseInt(e(this).find("option:selected").val(),10),r=parseInt(t.find("select.bootpage_per_numbers").find("option:selected").val(),10);s<=parseInt(i.data("pagecount"),10)&&s>0&&(l(a,s,r),t.trigger("page",[s,r]))}),l(a,s.page,s.currentPerPageNumbers)})}}(jQuery,window);
