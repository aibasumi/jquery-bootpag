!function(a,t){a.fn.bootpag=function(t){var s=this,e=a.extend({total:0,page:1,maxVisible:null,perPageNumbers:[10,20,50,100],currentPerPageNumbers:null,perPageText:"每頁",leaps:!0,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;",firstLastUse:!0,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"},s.data("settings")||{},t||{});if(e.total<=0)return this;function l(t,l,r){l=parseInt(l,10);var n,o=0==e.maxVisible?1:e.maxVisible,p=e.maxVisible,d=Math.floor((l-1)/o)*o,f=t.find("li");e.page=l=l<0?0:l>e.total?e.total:l,e.currentPerPageNumbers=r,f.removeClass(e.activeClass),n=l-1<1?1:e.leaps&&l-1>=e.maxVisible?Math.floor((l-1)/o)*o:l-1,e.firstLastUse&&f.first().toggleClass(e.disabledClass,1===l);var c=f.first();e.firstLastUse&&(c=c.next()),c.toggleClass(e.disabledClass,1===l).attr("data-lp",n).find("a").attr("href",i(n));p=1==e.maxVisible?0:1;n=l+1>e.total?e.total:e.leaps&&l+1<e.total-e.maxVisible?d+e.maxVisible+p:l+1;var b=f.last();e.firstLastUse&&(b=b.prev()),b.toggleClass(e.disabledClass,l===e.total).attr("data-lp",n).find("a").attr("href",i(n)),f.last().toggleClass(e.disabledClass,l===e.total);var g=f.filter("[data-lp="+l+"]"),u="."+[e.nextClass,e.prevClass,e.firstClass,e.lastClass].join(",.");if(!g.not(u).length){var v=l<=d?-e.maxVisible:0;f.not(u).each(function(t){n=t+1+d+v,a(this).attr("data-lp",n).toggle(n<=e.total).find("a").html(n).attr("href",i(n))}),g=f.filter("[data-lp="+l+"]")}g.not(u).addClass(e.activeClass),s.find("select.bootpage_per_numbers").find('option[value="'+r+'"]').prop("selected",!0),s.data("settings",e)}function i(a){return e.href.replace(e.hrefVariable,a)}return a.isNumeric(e.maxVisible)||e.maxVisible||(e.maxVisible=parseInt(e.total,10)),s.data("settings",e),this.each(function(){var t,r,n=a(this),o=['<ul class="',e.wrapClass,' bootpag">'];e.firstLastUse&&(o=o.concat(['<li data-lp="1" class="',e.firstClass,'"><a href="',i(1),'">',e.first,"</a></li>"])),e.prev&&(o=o.concat(['<li data-lp="1" class="',e.prevClass,'"><a href="',i(1),'">',e.prev,"</a></li>"]));for(var p=1;p<=Math.min(e.total,e.maxVisible);p++)o=o.concat(['<li data-lp="',p,'"><a href="',i(p),'">',p,"</a></li>"]);e.next&&(r=e.leaps&&e.total>e.maxVisible?Math.min(e.maxVisible+1,e.total):2,o=o.concat(['<li data-lp="',r,'" class="',e.nextClass,'"><a href="',i(r),'">',e.next,"</a></li>"])),e.firstLastUse&&(o=o.concat(['<li data-lp="',e.total,'" class="last"><a href="',i(e.total),'">',e.last,"</a></li>"])),o.push("</ul>"),n.find("ul.bootpag").remove(),n.append(o.join("")),n.find("div.bootpag_drop").remove(),n.append(function(){for(var a=e.perPageNumbers.length,t='<div class="bootpag_drop col-md-1">'+e.perPageText+'<select class="bootpage_per_numbers form-control" style="margin: 22px 10px; display: unset; width: auto;">',s="",l=0;l<a;l++){var i=e.perPageNumbers[l];s+='<option value="'+i+'">'+i+"</option>"}return t+s+"</select></div>"}()),t=n.find("ul.bootpag"),n.find("li").click(function(){var t=a(this);if(!t.hasClass(e.disabledClass)&&!t.hasClass(e.activeClass)){var i=parseInt(t.attr("data-lp"),10),r=parseInt(s.find("select.bootpage_per_numbers").find("option:selected").val(),10);s.find("ul.bootpag").each(function(){l(a(this),i,r)}),s.trigger("page",[i,r])}}),s.find("select.bootpage_per_numbers").change(function(){var e=parseInt(a(this).find("option:selected").val(),10);l(t,1,e),s.trigger("page",[1,e])}),l(t,e.page,e.currentPerPageNumbers)})}}(jQuery,window);
